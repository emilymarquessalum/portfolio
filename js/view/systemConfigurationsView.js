import View from"./view.js";import staticConfiguration from"../models/staticConfigurationsModel.js";const FORM_ID="configuration-form",BODY_CONFIG_MODE="body--config";class SystemConfigurationsView extends View{constructor(n){super(n,"startedConfigurations")}inicializeElements(){this.configurationForm=document.getElementById(FORM_ID),document.body.classList.add(BODY_CONFIG_MODE)}loadedConfigurations(n){if(n)return void document.body.classList.remove(BODY_CONFIG_MODE);this.getToMoveElements().forEach(n=>{n.classList.add("system-configurations__input--closed")}),setTimeout(()=>{window.scrollTo(0,0),document.body.classList.remove(BODY_CONFIG_MODE),this.configurationForm.parentElement.classList.add("system-configurations--closed"),setTimeout(()=>{this.configurationForm.parentElement.remove()},5e3)},6e3)}getToMoveElements(){return Array.from(this.configurationForm.parentElement.querySelectorAll(".move-input"))}listenForm(n){this.configurationForm.addEventListener("submit",s=>{s.preventDefault(),n(s)})}template(n){let s="",i="";return Object.keys(n).forEach(n=>{s+=`\n        <option class="system-configurations__option" value="${n}">\n        ${n}\n                        </option>\n            `,i+=`<p class="system-configurations__switch-case" \n                id="${n}-case"> \n                    case ${n}: \n                </p>\n                \n                <p class="system-configurations__switch-result"> \n                    return <img class="system-configurations__switch-image"\n                        src="${staticConfiguration.initialPath()}/res/images/flags/${n}.png">;\n                </p>`}),'\n    <div class="system-configurations">\n\n        <h2 class="system-configurations__title">\n        System Configurations / Configurações de Sistema\n        </h2>\n\n    \n\n        <form id=\'configuration-form\' class=\'system-configurations__form\'>\n\n\n        <label for="language" class="move-input system-configurations__label"> \n            Pick the Language / Escolha a linguagem \n        </label>        \n\n            <div class="system-configurations__input-container move-input">\n                <select name="language" \n                label="Language" id="language-choice-select" \n                class="system-configurations__input system-configurations__select move-input">'+s+'  \n                </select>\n\n            </div>\n\n\n\n            <label for="language" class="system-configurations__label move-input"> \n                Saving configurations / Salvando configurações \n            </label>\n\n            \n            <div id="configuration-form-save-select-container"\n            class="system-configurations__input-container move-input">\n\n                <select label="Save configurations" \n                class="system-configurations__input system-configurations__select move-input"\n                id="configuration-form-save-select" name="save-configurations"> \n\n                    <option class="system-configurations__option" value="none"> Don\'t save</option>\n                    <option class="system-configurations__option" value="local">Save</option>\n                    <option class="system-configurations__option" value="session"> Save for this session</option>\n                    \n\n                </select>\n    \n\n            </div>\n\n            <input \n            class="system-configurations__confirm-button \n            system-configurations__input move-input"\n            type="submit"\n                form="configuration-form" value="Confirm">\n        \n\n        </form>\n\n\n        <div \n        id="language-switch" \n        class="system-configurations__language-switch system-configurations__language-switch--hidden">\n\n            switch(language) {\n                '+i+" \n        }\n        </div>\n\n\n\n\n    </div>"}}export default SystemConfigurationsView;